{% extends 'base.html' %}

{% block content %}
    {% for message in get_flashed_messages() %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>

    {% endfor %}

    <h3> Dashboard </h3>

    <!-- if logged-in, we can use flask current_user.<column name> feature to access values -->
    <!--https://getbootstrap.com/docs/5.1/components/card/-->
    <div class="card">
      <div class="card-header">
          {{ current_user.name }}
      </div>
      <div class="card-body">
        <h5 class="card-title"> Your user profile </h5>
        <p class="card-text">
            <strong>Name          :</strong> {{ current_user.name }}<br/>
            <strong>Username      :</strong> {{ current_user.username }}<br/>
            <strong>User ID       :</strong> {{ current_user.id }}<br/>
            <strong>Email         :</strong> {{ current_user.email }}<br/>
            <strong>Role          :</strong> {{ current_user.role }}<br/>
            <strong>Date Joined   :</strong> {{ current_user.date_added }}<br/>
        </p>
          <div class="card-body">
              <h5 class="card-title"> List of created Forms</h5>
          {% for file in files %}
    <li><a href='/forms/{{file.split(".")[0]}}'>Share {{file.split(".")[0]}}</a> <a href='/forms/edit/{{file.split(".")[0]}}'>Edit {{file.split(".")[0]}}</a></li>
{% endfor %}</div>
        <a href="{{ url_for('create_form') }}" class="btn btn-secondary bt-small"> Create a new form</a>
      </div>
    </div>

     <br/><br/>
     <p> You are Logged in ! </p>
     <br/>
     <a href=>Logout</a>

{% endblock %}